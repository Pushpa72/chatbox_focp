import random
import json

# Load responses from a JSON file
responses = {
    "coffee": "The campus coffee bar is open from 8 AM to 6 PM.",
    "library": "The library is open from 9 AM to 9 PM.",
    "sports": "The sports center is open from 7 AM to 10 PM.",
    "admissions": "Admissions office is open from 9 AM to 5 PM."
}

# Random agent names
agent_names = ["Alex", "Taylor", "Jordan", "Morgan", "Jamie"]

# Random fallback responses
random_responses = [
    "I'm not sure about that.",
    "Can you rephrase your question?",
    "I'll need to check on that.",
    "Hmm, that's a tricky one."
]

# Function to respond to user questions
def respond_to_question(question):
    for keyword, response in responses.items():
        if keyword in question.lower():
            return response
    return random.choice(random_responses)

# Main chatbot logic
def chatbot():
    user_name = input("Hello! What is your name? ")
    agent_name = random.choice(agent_names)
    print(f"Nice to meet you, {user_name}! You are now chatting with {agent_name}.")

    with open("chat_log.txt", "a") as log_file:
        log_file.write(f"Chat session started with {user_name} and agent {agent_name}\n")

        while True:
            user_input = input("You: ")
            log_file.write(f"User: {user_input}\n")

            if user_input.lower() in ["bye", "exit", "quit"]:
                print(f"{agent_name}: Goodbye, {user_name}! Have a great day.")
                log_file.write(f"{agent_name}: Goodbye, {user_name}!\n")
                break

            response = respond_to_question(user_input)
            print(f"{agent_name}: {response}")
            log_file.write(f"{agent_name}: {response}\n")

# Run the chatbot
if __name__ == "__main__":
    chatbot()
